# Configuration file for goesproc
# Updated to include enhancements from usradioguy's configuration (Version 04/01/2024)

# GOES-19 mesoscale region 1 imagery (grayscale, single-channel)
[[handler]]
type = "image"
product = "goes19"
region = "m1"
dir = "/media/pi/M21/goes19/m1/{channel:short|lower}/{time:%Y-%m-%d}"
filename = "GOES19_M1_{channel:short}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"
json = false

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_0_countries_lakes.json"

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_1_states_provinces_lakes.json"

# GOES-19 full disk imagery (grayscale, single-channel)
[[handler]]
type = "image"
product = "goes19"
region = "fd"
dir = "/media/pi/M21/goes19/fd/{channel:short|lower}/{time:%Y-%m-%d}"
filename = "GOES19_fd_{channel:short|lower}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"
json = false

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_0_countries_lakes.json"

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_1_states_provinces_lakes.json"

# GOES-19 mesoscale region 2 imagery (grayscale, single-channel)
[[handler]]
type = "image"
product = "goes19"
region = "m2"
dir = "/media/pi/M21/goes19/m2/{channel:short|lower}/{time:%Y-%m-%d}"
filename = "GOES19_M2_{channel:short|lower}_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"
json = false

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_0_countries_lakes.json"

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_1_states_provinces_lakes.json"

# GOES-19 full disk, mesoscale 1, and mesoscale 2 false-color imagery (combining ch02 and ch13)
[[handler]]
type = "image"
product = "goes19"
regions = ["fd", "m1", "m2"]
channels = ["ch02", "ch13"]
directory = "/media/pi/M21/goes19/{region:short|lower}/fc/{time:%Y-%m-%d}"
filename = "GOES19_{region:short|lower}_fc_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"
json = false

  [handler.remap.ch02]
  path = "/home/pi/goestools/share/wxstar/wxstar_goes16_ch02_curve.png"

  [handler.lut]
  path = "/home/pi/goestools/share/wxstar/wxstar_goes16_lut.png"

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_0_countries_lakes.json"

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_1_states_provinces_lakes.json"

# GOES-19 full disk, mesoscale 1, and mesoscale 2 RGB-enhanced imagery
[[handler]]
type = "image"
product = "goes19"
regions = ["fd", "m1", "m2"]
channels = ["ch07", "ch08", "ch09", "ch13", "ch14", "ch15"]
directory = "/media/pi/M21/goes19/{region:short|lower}/{channel:short|lower}_enhanced/{time:%Y-%m-%d}"
filename = "GOES19_{region:short|lower}_{channel:short|lower}_enhanced_{time:%Y%m%dT%H%M%SZ}"
format = "jpg"
json = false

  ## Shortwave IR (Channel 7)
  [handler.gradient.ch07]
  points = [
    { units = 400, color = "#000000" },
    { units = 250, color = "#b9b9b9" },
    { units = 249.999, color = "#00ffff" },
    { units = 240, color = "#000080" },
    { units = 230, color = "#00ff00" },
    { units = 220, color = "#ffff00" },
    { units = 210, color = "#ff0000" },
    { units = 200, color = "#000000" },
    { units = 190, color = "#ffffff" }
  ]

  ## Water Vapor (Channels 8 and 9)
  [handler.gradient.ch08]
  points = [
    { units = 276, color = "#000000" },
    { units = 275.9, color = "#ff0000" },
    { units = 258, color = "#ffff00" },
    { units = 250, color = "#000070" },
    { units = 233, color = "#ffffff" },
    { units = 195, color = "#408020" },
    { units = 178, color = "#00ffff" }
  ]
  [handler.gradient.ch09]
  points = [
    { units = 276, color = "#000000" },
    { units = 275.9, color = "#ff0000" },
    { units = 258, color = "#ffff00" },
    { units = 250, color = "#000070" },
    { units = 233, color = "#ffffff" },
    { units = 195, color = "#408020" },
    { units = 178, color = "#00ffff" }
  ]

  ## Longwave IR (Channels 13, 14, and 15)
  [handler.gradient.ch13]
  points = [
    { units = 333, color = "#000000" },
    { units = 238, color = "#b9b9b9" },
    { units = 237.999, color = "#00ffff" },
    { units = 228, color = "#000080" },
    { units = 218, color = "#00ff00" },
    { units = 208, color = "#ffff00" },
    { units = 198, color = "#ff0000" },
    { units = 188, color = "#000000" },
    { units = 178, color = "#ffffff" }
  ]
  [handler.gradient.ch14]
  points = [
    { units = 333, color = "#000000" },
    { units = 238, color = "#b9b9b9" },
    { units = 237.999, color = "#00ffff" },
    { units = 228, color = "#000080" },
    { units = 218, color = "#00ff00" },
    { units = 208, color = "#ffff00" },
    { units = 198, color = "#ff0000" },
    { units = 188, color = "#000000" },
    { units = 178, color = "#ffffff" }
  ]
  [handler.gradient.ch15]
  points = [
    { units = 333, color = "#000000" },
    { units = 238, color = "#b9b9b9" },
    { units = 237.999, color = "#00ffff" },
    { units = 228, color = "#000080" },
    { units = 218, color = "#00ff00" },
    { units = 208, color = "#ffff00" },
    { units = 198, color = "#ff0000" },
    { units = 188, color = "#000000" },
    { units = 178, color = "#ffffff" }
  ]

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_0_countries_lakes.json"

  [[handler.map]]
  path = "/home/pi/goestools/share/ne/ne_50m_admin_1_states_provinces_lakes.json"

# The HRIT stream on the GOES-R series includes EMWIN data.
#[[handler]]
#type = "emwin"
#directory = "/media/pi/M21/emwin/{time:%Y-%m-%d}"

# NWS text messages
[[handler]]
type = "text"
product = "nws"
directory = "/media/pi/M21/nws/{time:%Y-%m-%d}"
filename = "{time:%Y%m%dT%H%M%SZ}_{awips:nnn}{awips:xxx}"

# NWS images
[[handler]]
type = "image"
product = "nws"
directory = "/media/pi/M21/nws/{time:%Y-%m-%d}"
filename = "{time:%Y%m%dT%H%M%SZ}_{filename}"
format = "png"

# Miscellaneous text
[[handler]]
type = "text"
product = "other"
directory = "/media/pi/M21/text/{time:%Y-%m-%d}"
filename = "{time:%Y%m%dT%H%M%SZ}_{filename}"
